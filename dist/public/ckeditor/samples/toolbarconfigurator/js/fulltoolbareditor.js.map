{"version":3,"sources":["../../../../../../public/ckeditor/samples/toolbarconfigurator/js/fulltoolbareditor.js"],"names":["window","ToolbarConfigurator","e","instanceid","CKEDITOR","tools","getNextId","textarea","dom","element","setAttributes","id","name","contentEditable","editorInstance","buttons","FullToolbarEditor","prototype","init","b","a","document","body","appendChild","$","replace","instances","once","d","c","editor","config","removeButtons","toolbarGroups","toolbar","AbstractToolbarModifier","extendPluginsConfig","toolbarToButtons","buttonsByGroup","groupButtons","buttonNamesByGroup","groupButtonNamesByGroup","container","hide","map","getCamelCasedButtonName","getGroupByName","getFullToolbarGroupsConfig","length","ui","items","f","g","push","groups","Array","slice","call","filter","isArray","split","concat","groupToButtons","createToolbarButton","createIcon","icon","command","setStyle","addClass","lang","dir","button","append","richCombo","setText","label","skin","getIconStyle","setAttribute","createButton","setHtml"],"mappings":";;;;AAACA,OAAOC,mBAAP,GAA2B,EAA3B;AACD,CAAC,YAAU;AAAC,WAASC,CAAT,GAAY;AAAC,SAAKC,UAAL,GAAgB,QAAMC,SAASC,KAAT,CAAeC,SAAf,EAAtB,CAAiD,KAAKC,QAAL,GAAc,IAAIH,SAASI,GAAT,CAAaC,OAAjB,CAAyB,UAAzB,CAAd,CAAmD,KAAKF,QAAL,CAAcG,aAAd,CAA4B,EAACC,IAAG,KAAKR,UAAT,EAAoBS,MAAK,KAAKT,UAA9B,EAAyCU,iBAAgB,CAAC,CAA1D,EAA5B,EAA0F,KAAKC,cAAL,GAAoB,KAAKC,OAAL,GAAa,IAAjC;AAAsC,uBAAoBC,iBAApB,GAAsCd,CAAtC,CAAwCA,EAAEe,SAAF,CAAYC,IAAZ,GAAiB,UAASC,CAAT,EAAW;AAAC,QAAIC,IAAE,IAAN,CAAWC,SAASC,IAAT,CAAcC,WAAd,CAA0B,KAAKhB,QAAL,CAAciB,CAAxC,EAA2CpB,SAASqB,OAAT,CAAiB,KAAKtB,UAAtB,EAAkC,KAAKW,cAAL,GAAoBV,SAASsB,SAAT,CAAmB,KAAKvB,UAAxB,CAApB,CAAwD,KAAKW,cAAL,CAAoBa,IAApB,CAAyB,cAAzB,EAAwC,UAASC,CAAT,EAAW;AAAC,UAAIC,IAC1gBD,EAAEE,MAAF,CAASC,MAD6f,CACtf,OAAOF,EAAEG,aAAT,CAAuB,OAAOH,EAAEI,aAAT,CAAuB,OAAOJ,EAAEK,OAAT,CAAiBjC,oBAAoBkC,uBAApB,CAA4CC,mBAA5C,CAAgEP,CAAhE,EAAmED,EAAEE,MAAF,CAASH,IAAT,CAAc,QAAd,EAAuB,YAAU;AAACP,UAAEL,OAAF,GAAUb,EAAEmC,gBAAF,CAAmBjB,EAAEN,cAAF,CAAiBoB,OAApC,CAAV,CAAuDd,EAAEkB,cAAF,GAAiBpC,EAAEqC,YAAF,CAAenB,EAAEL,OAAjB,CAAjB,CAA2CK,EAAEoB,kBAAF,GAAqBpB,EAAEqB,uBAAF,CAA0BrB,EAAEL,OAA5B,CAArB,CAA0Da,EAAEE,MAAF,CAASY,SAAT,CAAmBC,IAAnB,GAA0B,eAAa,OAAOxB,CAApB,IAAuBA,EAAEC,EAAEL,OAAJ,CAAvB;AAAoC,OAA5P;AAA8P,KADkE;AAChE,GAD7G,CAC8Gb,EAAEe,SAAF,CAAYwB,uBAAZ,GAAoC,UAAStB,CAAT,EAAW;AAAC,QAAIC,IAAE,IAAN,CAAWD,IAAEjB,EAAEqC,YAAF,CAAepB,CAAf,CAAF,CAAoB,KAAI,IAAIS,CAAR,IAAaT,CAAb;AAAeA,QAAES,CAAF,IACjf1B,EAAE0C,GAAF,CAAMzB,EAAES,CAAF,CAAN,EAAW,UAAST,CAAT,EAAW;AAAC,eAAOC,EAAEyB,uBAAF,CAA0B1B,EAAEP,IAA5B,CAAP;AAAyC,OAAhE,CADif;AAAf,KACha,OAAOO,CAAP;AAAS,GADwU,CACvUjB,EAAEe,SAAF,CAAY6B,cAAZ,GAA2B,UAAS3B,CAAT,EAAW;AAAC,SAAI,IAAIC,IAAE,KAAKN,cAAL,CAAoBiB,MAApB,CAA2BE,aAA3B,IAA0C,KAAKc,0BAAL,EAAhD,EAAkFnB,IAAER,EAAE4B,MAAtF,EAA6FnB,IAAE,CAAnG,EAAqGA,IAAED,CAAvG,EAAyGC,KAAG,CAA5G;AAA8G,UAAGT,EAAES,CAAF,EAAKjB,IAAL,KAAYO,CAAf,EAAiB,OAAOC,EAAES,CAAF,CAAP;AAA/H,KAA2I,OAAO,IAAP;AAAY,GAA9L,CAA+L3B,EAAEe,SAAF,CAAY4B,uBAAZ,GAAoC,UAAS1B,CAAT,EAAW;AAAC,QAAIC,IAAE,KAAKN,cAAL,CAAoBmC,EAApB,CAAuBC,KAA7B;AAAA,QAAmCtB,CAAnC,CAAqC,KAAIA,CAAJ,IAASR,CAAT;AAAW,UAAGA,EAAEQ,CAAF,EAAKhB,IAAL,IAAWO,CAAd,EAAgB,OAAOS,CAAP;AAA3B,KAAoC,OAAO,IAAP;AAAY,GAArI,CAAsI1B,EAAEe,SAAF,CAAY8B,0BAAZ,GAAuC,UAAS5B,CAAT,EAAW;AAACA,QAAE,CAAC,CAAD,KAAKA,CAAL,GAAO,CAAC,CAAR,GAAU,CAAC,CAAb,CAAe,KAAI,IAAIC,IAAE,EAAN,EAASQ,IAAE,KAAKd,cAAL,CAAoBoB,OAA/B,EACvdL,IAAED,EAAEoB,MADmd,EAC5cG,IAAE,CADsc,EACpcA,IAAEtB,CADkc,EAChcsB,KAAG,CAD6b,EAC3b;AAAC,UAAIjD,IAAE0B,EAAEuB,CAAF,CAAN;AAAA,UAAWC,IAAE,EAAb,CAAgB,YAAU,OAAOlD,EAAEU,IAAnB,GAAwBO,KAAGC,EAAEiC,IAAF,CAAO,GAAP,CAA3B,IAAwCD,EAAExC,IAAF,GAAOV,EAAEU,IAAT,EAAcV,EAAEoD,MAAF,KAAWF,EAAEE,MAAF,GAASC,MAAMtC,SAAN,CAAgBuC,KAAhB,CAAsBC,IAAtB,CAA2BvD,EAAEoD,MAA7B,CAApB,CAAd,EAAwElC,EAAEiC,IAAF,CAAOD,CAAP,CAAhH;AAA2H,YAAOhC,CAAP;AAAS,GADoO,CACnOlB,EAAEwD,MAAF,GAAS,UAASvC,CAAT,EAAWC,CAAX,EAAa;AAAC,SAAI,IAAIQ,IAAET,KAAGA,EAAE6B,MAAL,GAAY7B,EAAE6B,MAAd,GAAqB,CAA3B,EAA6BnB,IAAE,EAA/B,EAAkCsB,IAAE,CAAxC,EAA0CA,IAAEvB,CAA5C,EAA8CuB,KAAG,CAAjD;AAAmD/B,QAAED,EAAEgC,CAAF,CAAF,KAAStB,EAAEwB,IAAF,CAAOlC,EAAEgC,CAAF,CAAP,CAAT;AAAnD,KAAyE,OAAOtB,CAAP;AAAS,GAAzG,CAA0G3B,EAAE0C,GAAF,GAAM,UAASzB,CAAT,EAAWC,CAAX,EAAa;AAAC,QAAIQ,CAAJ,CAAM,IAAGxB,SAASC,KAAT,CAAesD,OAAf,CAAuBxC,CAAvB,CAAH,EAA6B;AAACS,UAAE,EAAF,CAAK,KAAI,IAAIC,IAAEV,EAAE6B,MAAR,EAAeG,IAAE,CAArB,EAAuBA,IAAEtB,CAAzB,EAA2BsB,KAAG,CAA9B;AAAgCvB,UAAEyB,IAAF,CAAOjC,EAAED,EAAEgC,CAAF,CAAF,CAAP;AAAhC;AAAgD,KAAnF,MAAwF,KAAItB,CAAJ,IAASD,IAAE,EAAF,EAAKT,CAAd;AAAgBS,QAAEC,CAAF,IAAKT,EAAED,EAAEU,CAAF,CAAF,CAAL;AAAhB,KAA6B,OAAOD,CAAP;AAAS,GAAxJ,CAAyJ1B,EAAEqC,YAAF,GAAe,UAASpB,CAAT,EAAW;AAAC,SAAI,IAAIC,IAAE,EAAN,EAASQ,IAAET,EAAE6B,MAAb,EAAoBnB,IAAE,CAA1B,EAA4BA,IAAED,CAA9B,EAAgCC,KAAG,CAAnC,EAAqC;AAAC,UAAIsB,IACtfhC,EAAEU,CAAF,CADkf;AAAA,UAC7e3B,IAAEiD,EAAEjB,OAAF,CAAU0B,KAAV,CAAgB,GAAhB,EAAqB,CAArB,CAD2e,CACndxC,EAAElB,CAAF,IAAKkB,EAAElB,CAAF,KAAM,EAAX,CAAckB,EAAElB,CAAF,EAAKmD,IAAL,CAAUF,CAAV;AAAa,YAAO/B,CAAP;AAAS,GAD8W,CAC7WlB,EAAEmC,gBAAF,GAAmB,UAASlB,CAAT,EAAW;AAAC,SAAI,IAAIC,IAAE,EAAN,EAASQ,IAAET,EAAE6B,MAAb,EAAoBnB,IAAE,CAA1B,EAA4BA,IAAED,CAA9B,EAAgCC,KAAG,CAAnC;AAAqC,0BAAiBV,EAAEU,CAAF,CAAjB,MAAwBT,IAAEA,EAAEyC,MAAF,CAAS3D,EAAE4D,cAAF,CAAiB3C,EAAEU,CAAF,CAAjB,CAAT,CAA1B;AAArC,KAAiG,OAAOT,CAAP;AAAS,GAAzI,CAA0IlB,EAAE6D,mBAAF,GAAsB,UAAS5C,CAAT,EAAW;AAAC,QAAIC,IAAE,IAAIhB,SAASI,GAAT,CAAaC,OAAjB,CAAyB,GAAzB,CAAN;AAAA,QAAoCmB,IAAE1B,EAAE8D,UAAF,CAAa7C,EAAEP,IAAf,EAAoBO,EAAE8C,IAAtB,EAA2B9C,EAAE+C,OAA7B,CAAtC,CAA4E9C,EAAE+C,QAAF,CAAW,OAAX,EAAmB,MAAnB,EAA2B/C,EAAEgD,QAAF,CAAW,UAAQ,SAAOhE,SAASiE,IAAT,CAAcC,GAArB,GAAyB,KAAzB,GAA+B,KAAvC,CAAX,EAA0D,IAAGnD,aAAaf,SAAS6C,EAAT,CAAYsB,MAA5B,EAAmCnD,EAAEgD,QAAF,CAAW,YAAX,GAAyBhD,EAAEgD,QAAF,CAAW,eAAX,CAAzB,EAAqDhD,EAAEoD,MAAF,CAAS5C,CAAT,CAArD,CAAnC,KAC5Y,IAAGxB,SAAS6C,EAAT,CAAYwB,SAAZ,IAAuBtD,aAAaf,SAAS6C,EAAT,CAAYwB,SAAnD,EAA6D;AAAC,UAAI7C,IAAE,IAAIxB,SAASI,GAAT,CAAaC,OAAjB,CAAyB,MAAzB,CAAN;AAAA,UAAuCoB,IAAE,IAAIzB,SAASI,GAAT,CAAaC,OAAjB,CAAyB,MAAzB,CAAzC;AAAA,UAA0E0C,IAAE,IAAI/C,SAASI,GAAT,CAAaC,OAAjB,CAAyB,MAAzB,CAA5E,CAA6GW,EAAEgD,QAAF,CAAW,kBAAX,EAA+BxC,EAAEwC,QAAF,CAAW,gBAAX,EAA6BxC,EAAEwC,QAAF,CAAW,uBAAX,EAAoCxC,EAAE8C,OAAF,CAAUvD,EAAEwD,KAAZ,EAAmB9C,EAAEuC,QAAF,CAAW,gBAAX,EAA6BjB,EAAEiB,QAAF,CAAW,iBAAX,EAA8BvC,EAAE2C,MAAF,CAASrB,CAAT,EAAY/B,EAAEoD,MAAF,CAAS5C,CAAT,EAAYR,EAAEoD,MAAF,CAAS3C,CAAT;AAAY,YAAOT,CAAP;AAAS,GAD7L,CAC8LlB,EAAE8D,UAAF,GAAa,UAAS7C,CAAT,EAAWC,CAAX,EAAaQ,CAAb,EAAe;AAAC,QAAIC,IAAEzB,SAASwE,IAAT,CAAcC,YAAd,CAA2B1D,CAA3B,EAA6B,SAAOf,SAASiE,IAAT,CAAcC,GAAlD,CAAN;AAAA,QAA6DzC,IAAE,CAACA,IAAEA,KAAGzB,SAASwE,IAAT,CAAcC,YAAd,CAA2BzD,CAA3B,EAC9e,SAAOhB,SAASiE,IAAT,CAAcC,GADyd,CAAN,KAC5clE,SAASwE,IAAT,CAAcC,YAAd,CAA2BjD,CAA3B,EAA6B,SAAOxB,SAASiE,IAAT,CAAcC,GAAlD,CAD6Y,CACtVlD,IAAE,IAAIhB,SAASI,GAAT,CAAaC,OAAjB,CAAyB,MAAzB,CAAF,CAAmCW,EAAEgD,QAAF,CAAW,iBAAX,EAA8BhD,EAAEgD,QAAF,CAAW,iBAAejD,CAAf,GAAiB,OAA5B,EAAqCC,EAAE0D,YAAF,CAAe,OAAf,EAAuBjD,CAAvB,EAA0BT,EAAE+C,QAAF,CAAW,OAAX,EAAmB,MAAnB,EAA2B,OAAO/C,CAAP;AAAS,GADqJ,CACpJlB,EAAE6E,YAAF,GAAe,UAAS5D,CAAT,EAAWC,CAAX,EAAa;AAAC,QAAIQ,IAAE,IAAIxB,SAASI,GAAT,CAAaC,OAAjB,CAAyB,QAAzB,CAAN,CAAyCmB,EAAEwC,QAAF,CAAW,UAAX,EAAuBxC,EAAEkD,YAAF,CAAe,MAAf,EAAsB,QAAtB,EAAgC,IAAG,YAAU,OAAO1D,CAApB,EAAsB;AAACA,UAAEA,EAAEwC,KAAF,CAAQ,GAAR,CAAF,CAAe,KAAI,IAAI/B,IAAET,EAAE4B,MAAZ,EAAmBnB,GAAnB;AAAwBD,UAAEwC,QAAF,CAAWhD,EAAES,CAAF,CAAX;AAAxB;AAAyC,OAAEmD,OAAF,CAAU7D,CAAV,EAAa,OAAOS,CAAP;AAAS,GAAlO,CAAmO1B,EAAE4D,cAAF,GAAiB,UAAS3C,CAAT,EAAW;AAAC,SAAI,IAAIC,IAChgB,EAD4f,EACzfQ,IAAE,CAACT,IAAEA,EAAE+B,KAAL,IAAY/B,EAAE6B,MAAd,GAAqB,CADke,EAChenB,IAAE,CAD0d,EACxdA,IAAED,CADsd,EACpdC,KAAG,CADid,EAC/c;AAAC,UAAIsB,IAAEhC,EAAEU,CAAF,CAAN,CAAW,IAAGsB,aAAa/C,SAAS6C,EAAT,CAAYsB,MAAzB,IAAiCnE,SAAS6C,EAAT,CAAYwB,SAAZ,IAAuBtB,aAAa/C,SAAS6C,EAAT,CAAYwB,SAApF,EAA8FtB,EAAE3B,CAAF,GAAItB,EAAE6D,mBAAF,CAAsBZ,CAAtB,CAAJ,EAA6B/B,EAAEiC,IAAF,CAAOF,CAAP,CAA7B;AAAuC,YAAO/B,CAAP;AAAS,GADwR;AACvR,CAPpM","file":"fulltoolbareditor.js","sourcesContent":["ï»¿window.ToolbarConfigurator={};\n(function(){function e(){this.instanceid=\"fte\"+CKEDITOR.tools.getNextId();this.textarea=new CKEDITOR.dom.element(\"textarea\");this.textarea.setAttributes({id:this.instanceid,name:this.instanceid,contentEditable:!0});this.editorInstance=this.buttons=null}ToolbarConfigurator.FullToolbarEditor=e;e.prototype.init=function(b){var a=this;document.body.appendChild(this.textarea.$);CKEDITOR.replace(this.instanceid);this.editorInstance=CKEDITOR.instances[this.instanceid];this.editorInstance.once(\"configLoaded\",function(d){var c=\nd.editor.config;delete c.removeButtons;delete c.toolbarGroups;delete c.toolbar;ToolbarConfigurator.AbstractToolbarModifier.extendPluginsConfig(c);d.editor.once(\"loaded\",function(){a.buttons=e.toolbarToButtons(a.editorInstance.toolbar);a.buttonsByGroup=e.groupButtons(a.buttons);a.buttonNamesByGroup=a.groupButtonNamesByGroup(a.buttons);d.editor.container.hide();\"function\"===typeof b&&b(a.buttons)})})};e.prototype.groupButtonNamesByGroup=function(b){var a=this;b=e.groupButtons(b);for(var d in b)b[d]=\ne.map(b[d],function(b){return a.getCamelCasedButtonName(b.name)});return b};e.prototype.getGroupByName=function(b){for(var a=this.editorInstance.config.toolbarGroups||this.getFullToolbarGroupsConfig(),d=a.length,c=0;c<d;c+=1)if(a[c].name===b)return a[c];return null};e.prototype.getCamelCasedButtonName=function(b){var a=this.editorInstance.ui.items,d;for(d in a)if(a[d].name==b)return d;return null};e.prototype.getFullToolbarGroupsConfig=function(b){b=!0===b?!0:!1;for(var a=[],d=this.editorInstance.toolbar,\nc=d.length,f=0;f<c;f+=1){var e=d[f],g={};\"string\"!=typeof e.name?b&&a.push(\"/\"):(g.name=e.name,e.groups&&(g.groups=Array.prototype.slice.call(e.groups)),a.push(g))}return a};e.filter=function(b,a){for(var d=b&&b.length?b.length:0,c=[],f=0;f<d;f+=1)a(b[f])&&c.push(b[f]);return c};e.map=function(b,a){var d;if(CKEDITOR.tools.isArray(b)){d=[];for(var c=b.length,f=0;f<c;f+=1)d.push(a(b[f]))}else for(c in d={},b)d[c]=a(b[c]);return d};e.groupButtons=function(b){for(var a={},d=b.length,c=0;c<d;c+=1){var f=\nb[c],e=f.toolbar.split(\",\")[0];a[e]=a[e]||[];a[e].push(f)}return a};e.toolbarToButtons=function(b){for(var a=[],d=b.length,c=0;c<d;c+=1)\"object\"==typeof b[c]&&(a=a.concat(e.groupToButtons(b[c])));return a};e.createToolbarButton=function(b){var a=new CKEDITOR.dom.element(\"a\"),d=e.createIcon(b.name,b.icon,b.command);a.setStyle(\"float\",\"none\");a.addClass(\"cke_\"+(\"rtl\"==CKEDITOR.lang.dir?\"rtl\":\"ltr\"));if(b instanceof CKEDITOR.ui.button)a.addClass(\"cke_button\"),a.addClass(\"cke_toolgroup\"),a.append(d);\nelse if(CKEDITOR.ui.richCombo&&b instanceof CKEDITOR.ui.richCombo){var d=new CKEDITOR.dom.element(\"span\"),c=new CKEDITOR.dom.element(\"span\"),f=new CKEDITOR.dom.element(\"span\");a.addClass(\"cke_combo_button\");d.addClass(\"cke_combo_text\");d.addClass(\"cke_combo_inlinelabel\");d.setText(b.label);c.addClass(\"cke_combo_open\");f.addClass(\"cke_combo_arrow\");c.append(f);a.append(d);a.append(c)}return a};e.createIcon=function(b,a,d){var c=CKEDITOR.skin.getIconStyle(b,\"rtl\"==CKEDITOR.lang.dir),c=(c=c||CKEDITOR.skin.getIconStyle(a,\n\"rtl\"==CKEDITOR.lang.dir))||CKEDITOR.skin.getIconStyle(d,\"rtl\"==CKEDITOR.lang.dir);a=new CKEDITOR.dom.element(\"span\");a.addClass(\"cke_button_icon\");a.addClass(\"cke_button__\"+b+\"_icon\");a.setAttribute(\"style\",c);a.setStyle(\"float\",\"none\");return a};e.createButton=function(b,a){var d=new CKEDITOR.dom.element(\"button\");d.addClass(\"button-a\");d.setAttribute(\"type\",\"button\");if(\"string\"==typeof a){a=a.split(\" \");for(var c=a.length;c--;)d.addClass(a[c])}d.setHtml(b);return d};e.groupToButtons=function(b){for(var a=\n[],d=(b=b.items)?b.length:0,c=0;c<d;c+=1){var f=b[c];if(f instanceof CKEDITOR.ui.button||CKEDITOR.ui.richCombo&&f instanceof CKEDITOR.ui.richCombo)f.$=e.createToolbarButton(f),a.push(f)}return a}})();"]}