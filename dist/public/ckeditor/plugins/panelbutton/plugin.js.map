{"version":3,"sources":["../../../../../public/ckeditor/plugins/panelbutton/plugin.js"],"names":["CKEDITOR","plugins","add","requires","onLoad","clickFn","editor","_","state","TRISTATE_DISABLED","createPanel","on","panel","hide","showBlock","id","document","getById","ui","panelButton","tools","createClass","base","button","$","definition","panelDefinition","parent","getDocument","block","attributes","toolbarRelated","hasArrow","click","statics","handler","create","proto","panelBlockDefinition","panelParentElement","getBody","floatPanel","addBlock","me","onShow","className","element","addClass","setState","TRISTATE_ON","editorFocus","focus","onOpen","onHide","preventOnClose","getFirst","removeClass","modes","mode","TRISTATE_OFF","onClose","onEscape","onBlock","beforeInit","addHandler","UI_PANELBUTTON"],"mappings":"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","file":"plugin.js","sourcesContent":["/**\n * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nCKEDITOR.plugins.add( 'panelbutton', {\n\trequires: 'button',\n\tonLoad: function() {\n\t\tfunction clickFn( editor ) {\n\t\t\tvar _ = this._;\n\n\t\t\tif ( _.state == CKEDITOR.TRISTATE_DISABLED )\n\t\t\t\treturn;\n\n\t\t\tthis.createPanel( editor );\n\n\t\t\tif ( _.on ) {\n\t\t\t\t_.panel.hide();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_.panel.showBlock( this._.id, this.document.getById( this._.id ), 4 );\n\t\t}\n\n\t\t/**\n\t\t * @class\n\t\t * @extends CKEDITOR.ui.button\n\t\t * @todo class and methods\n\t\t */\n\t\tCKEDITOR.ui.panelButton = CKEDITOR.tools.createClass( {\n\t\t\tbase: CKEDITOR.ui.button,\n\n\t\t\t/**\n\t\t\t * Creates a panelButton class instance.\n\t\t\t *\n\t\t\t * @constructor\n\t\t\t */\n\t\t\t$: function( definition ) {\n\t\t\t\t// We don't want the panel definition in this object.\n\t\t\t\tvar panelDefinition = definition.panel || {};\n\t\t\t\tdelete definition.panel;\n\n\t\t\t\tthis.base( definition );\n\n\t\t\t\tthis.document = ( panelDefinition.parent && panelDefinition.parent.getDocument() ) || CKEDITOR.document;\n\n\t\t\t\tpanelDefinition.block = {\n\t\t\t\t\tattributes: panelDefinition.attributes\n\t\t\t\t};\n\t\t\t\tpanelDefinition.toolbarRelated = true;\n\n\t\t\t\tthis.hasArrow = true;\n\n\t\t\t\tthis.click = clickFn;\n\n\t\t\t\tthis._ = {\n\t\t\t\t\tpanelDefinition: panelDefinition\n\t\t\t\t};\n\t\t\t},\n\n\t\t\tstatics: {\n\t\t\t\thandler: {\n\t\t\t\t\tcreate: function( definition ) {\n\t\t\t\t\t\treturn new CKEDITOR.ui.panelButton( definition );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tproto: {\n\t\t\t\tcreatePanel: function( editor ) {\n\t\t\t\t\tvar _ = this._;\n\n\t\t\t\t\tif ( _.panel )\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\tvar panelDefinition = this._.panelDefinition,\n\t\t\t\t\t\tpanelBlockDefinition = this._.panelDefinition.block,\n\t\t\t\t\t\tpanelParentElement = panelDefinition.parent || CKEDITOR.document.getBody(),\n\t\t\t\t\t\tpanel = this._.panel = new CKEDITOR.ui.floatPanel( editor, panelParentElement, panelDefinition ),\n\t\t\t\t\t\tblock = panel.addBlock( _.id, panelBlockDefinition ),\n\t\t\t\t\t\tme = this;\n\n\t\t\t\t\tpanel.onShow = function() {\n\t\t\t\t\t\tif ( me.className )\n\t\t\t\t\t\t\tthis.element.addClass( me.className + '_panel' );\n\n\t\t\t\t\t\tme.setState( CKEDITOR.TRISTATE_ON );\n\n\t\t\t\t\t\t_.on = 1;\n\n\t\t\t\t\t\tme.editorFocus && editor.focus();\n\n\t\t\t\t\t\tif ( me.onOpen )\n\t\t\t\t\t\t\tme.onOpen();\n\t\t\t\t\t};\n\n\t\t\t\t\tpanel.onHide = function( preventOnClose ) {\n\t\t\t\t\t\tif ( me.className )\n\t\t\t\t\t\t\tthis.element.getFirst().removeClass( me.className + '_panel' );\n\n\t\t\t\t\t\tme.setState( me.modes && me.modes[ editor.mode ] ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED );\n\n\t\t\t\t\t\t_.on = 0;\n\n\t\t\t\t\t\tif ( !preventOnClose && me.onClose )\n\t\t\t\t\t\t\tme.onClose();\n\t\t\t\t\t};\n\n\t\t\t\t\tpanel.onEscape = function() {\n\t\t\t\t\t\tpanel.hide( 1 );\n\t\t\t\t\t\tme.document.getById( _.id ).focus();\n\t\t\t\t\t};\n\n\t\t\t\t\tif ( this.onBlock )\n\t\t\t\t\t\tthis.onBlock( panel, block );\n\n\t\t\t\t\tblock.onHide = function() {\n\t\t\t\t\t\t_.on = 0;\n\t\t\t\t\t\tme.setState( CKEDITOR.TRISTATE_OFF );\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\n\t},\n\tbeforeInit: function( editor ) {\n\t\teditor.ui.addHandler( CKEDITOR.UI_PANELBUTTON, CKEDITOR.ui.panelButton.handler );\n\t}\n} );\n\n/**\n * Button UI element.\n *\n * @readonly\n * @property {String} [='panelbutton']\n * @member CKEDITOR\n */\nCKEDITOR.UI_PANELBUTTON = 'panelbutton';\n"]}