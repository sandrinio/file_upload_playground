{"version":3,"sources":["../../../../../../../../public/ckeditor/plugins/filemanager/browser/default/js/fckxml.js"],"names":["FCKXml","prototype","GetHttpRequest","XMLHttpRequest","e","ActiveXObject","LoadUrl","urlToCall","asyncFunctionPointer","oFCKXml","bAsync","oXmlHttp","open","onreadystatechange","readyState","oXml","test","responseXML","firstChild","DOMParser","parseFromString","responseText","nodeName","alert","statusText","status","DOMDocument","send","SelectNodes","xpath","navigator","userAgent","indexOf","selectNodes","aNodeArray","Array","xPathResult","evaluate","createNSResolver","documentElement","XPathResult","ORDERED_NODE_ITERATOR_TYPE","oNode","iterateNext","length","SelectSingleNode","selectSingleNode","singleNodeValue"],"mappings":"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","file":"fckxml.js","sourcesContent":["ï»¿/*\r\n * FCKeditor - The text editor for Internet - http://www.fckeditor.net\r\n * Copyright (C) 2003-2010 Frederico Caldeira Knabben\r\n *\r\n * == BEGIN LICENSE ==\r\n *\r\n * Licensed under the terms of any of the following licenses at your\r\n * choice:\r\n *\r\n *  - GNU General Public License Version 2 or later (the \"GPL\")\r\n *    http://www.gnu.org/licenses/gpl.html\r\n *\r\n *  - GNU Lesser General Public License Version 2.1 or later (the \"LGPL\")\r\n *    http://www.gnu.org/licenses/lgpl.html\r\n *\r\n *  - Mozilla Public License Version 1.1 or later (the \"MPL\")\r\n *    http://www.mozilla.org/MPL/MPL-1.1.html\r\n *\r\n * == END LICENSE ==\r\n *\r\n * Defines the FCKXml object that is used for XML data calls\r\n * and XML processing.\r\n *\r\n * This script is shared by almost all pages that compose the\r\n * File Browser frameset.\r\n */\r\n\r\nvar FCKXml = function()\r\n{}\r\n\r\nFCKXml.prototype.GetHttpRequest = function()\r\n{\r\n\t// Gecko / IE7\r\n\ttry { return new XMLHttpRequest(); }\r\n\tcatch(e) {}\r\n\r\n\t// IE6\r\n\ttry { return new ActiveXObject( 'Msxml2.XMLHTTP' ) ; }\r\n\tcatch(e) {}\r\n\r\n\t// IE5\r\n\ttry { return new ActiveXObject( 'Microsoft.XMLHTTP' ) ; }\r\n\tcatch(e) {}\r\n\r\n\treturn null ;\r\n}\r\n\r\nFCKXml.prototype.LoadUrl = function( urlToCall, asyncFunctionPointer )\r\n{\r\n\tvar oFCKXml = this ;\r\n\r\n\tvar bAsync = ( typeof(asyncFunctionPointer) == 'function' ) ;\r\n\r\n\tvar oXmlHttp = this.GetHttpRequest() ;\r\n\r\n\toXmlHttp.open( \"GET\", urlToCall, bAsync ) ;\r\n\r\n\tif ( bAsync )\r\n\t{\r\n\t\toXmlHttp.onreadystatechange = function()\r\n\t\t{\r\n\t\t\tif ( oXmlHttp.readyState == 4 )\r\n\t\t\t{\r\n\t\t\t\tvar oXml ;\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\t// this is the same test for an FF2 bug as in fckxml_gecko.js\r\n\t\t\t\t\t// but we've moved the responseXML assignment into the try{}\r\n\t\t\t\t\t// so we don't even have to check the return status codes.\r\n\t\t\t\t\tvar test = oXmlHttp.responseXML.firstChild ;\r\n\t\t\t\t\toXml = oXmlHttp.responseXML ;\r\n\t\t\t\t}\r\n\t\t\t\tcatch ( e )\r\n\t\t\t\t{\r\n\t\t\t\t\ttry\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\toXml = (new DOMParser()).parseFromString( oXmlHttp.responseText, 'text/xml' ) ;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcatch ( e ) {}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( !oXml || !oXml.firstChild || oXml.firstChild.nodeName == 'parsererror' )\r\n\t\t\t\t{\r\n\t\t\t\t\talert( 'The server didn\\'t send back a proper XML response. Please contact your system administrator.\\n\\n' +\r\n\t\t\t\t\t\t\t'XML request error: ' + oXmlHttp.statusText + ' (' + oXmlHttp.status + ')\\n\\n' +\r\n\t\t\t\t\t\t\t'Requested URL:\\n' + urlToCall + '\\n\\n' +\r\n\t\t\t\t\t\t\t'Response text:\\n' + oXmlHttp.responseText ) ;\r\n\t\t\t\t\treturn ;\r\n\t\t\t\t}\r\n\r\n\t\t\t\toFCKXml.DOMDocument = oXml ;\r\n\t\t\t\tasyncFunctionPointer( oFCKXml ) ;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\toXmlHttp.send( null ) ;\r\n\r\n\tif ( ! bAsync )\r\n\t{\r\n\t\tif ( oXmlHttp.status == 200 || oXmlHttp.status == 304 )\r\n\t\t\tthis.DOMDocument = oXmlHttp.responseXML ;\r\n\t\telse\r\n\t\t{\r\n\t\t\talert( 'XML request error: ' + oXmlHttp.statusText + ' (' + oXmlHttp.status + ')' ) ;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nFCKXml.prototype.SelectNodes = function( xpath )\r\n{\r\n\tif ( navigator.userAgent.indexOf('MSIE') >= 0 )\t\t// IE\r\n\t\treturn this.DOMDocument.selectNodes( xpath ) ;\r\n\telse\t\t\t\t\t// Gecko\r\n\t{\r\n\t\tvar aNodeArray = new Array();\r\n\r\n\t\tvar xPathResult = this.DOMDocument.evaluate( xpath, this.DOMDocument,\r\n\t\t\t\tthis.DOMDocument.createNSResolver(this.DOMDocument.documentElement), XPathResult.ORDERED_NODE_ITERATOR_TYPE, null) ;\r\n\t\tif ( xPathResult )\r\n\t\t{\r\n\t\t\tvar oNode = xPathResult.iterateNext() ;\r\n \t\t\twhile( oNode )\r\n \t\t\t{\r\n \t\t\t\taNodeArray[aNodeArray.length] = oNode ;\r\n \t\t\t\toNode = xPathResult.iterateNext();\r\n \t\t\t}\r\n\t\t}\r\n\t\treturn aNodeArray ;\r\n\t}\r\n}\r\n\r\nFCKXml.prototype.SelectSingleNode = function( xpath )\r\n{\r\n\tif ( navigator.userAgent.indexOf('MSIE') >= 0 )\t\t// IE\r\n\t\treturn this.DOMDocument.selectSingleNode( xpath ) ;\r\n\telse\t\t\t\t\t// Gecko\r\n\t{\r\n\t\tvar xPathResult = this.DOMDocument.evaluate( xpath, this.DOMDocument,\r\n\t\t\t\tthis.DOMDocument.createNSResolver(this.DOMDocument.documentElement), 9, null);\r\n\r\n\t\tif ( xPathResult && xPathResult.singleNodeValue )\r\n\t\t\treturn xPathResult.singleNodeValue ;\r\n\t\telse\r\n\t\t\treturn null ;\r\n\t}\r\n}\r\n"]}