{"version":3,"sources":["../../../../../public/ckeditor/plugins/font/plugin.js"],"names":["addCombo","editor","comboName","styleType","lang","entries","defaultLabel","styleDefinition","order","config","style","CKEDITOR","names","split","values","styles","i","length","parts","vars","name","_","definition","splice","ui","addRichCombo","label","title","panelTitle","toolbar","allowedContent","requiredContent","contentTransformations","element","check","left","attributes","size","align","face","right","sizes","panel","css","skin","getPath","concat","contentsCss","multiSelect","init","startGroup","add","buildPreview","onClick","value","focus","fire","previousValue","getValue","previousStyle","range","getSelection","getRanges","collapsed","path","elementPath","matching","contains","el","checkElementRemovable","startBoundary","checkBoundaryOfElement","START","endBoundary","END","node","bm","createBookmark","getFirst","insertBefore","remove","moveToBookmark","moveToPosition","POSITION_BEFORE_START","POSITION_AFTER_END","cloneSubtreeIntoRange","elements","slice","splitElement","selectRanges","removeStyle","onRender","on","ev","currentValue","data","checkElementMatch","setValue","refresh","activeFilter","setState","TRISTATE_DISABLED","subtreeStart","current","pop","equals","clone","insertNode","POSITION_AFTER_START","plugins","requires","font","font_names","font_defaultLabel","font_style","fontSize","fontSize_sizes","fontSize_defaultLabel","fontSize_style","overrides"],"mappings":"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","file":"plugin.js","sourcesContent":["ï»¿/**\n * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n( function() {\n\tfunction addCombo( editor, comboName, styleType, lang, entries, defaultLabel, styleDefinition, order ) {\n\t\tvar config = editor.config,\n\t\t\tstyle = new CKEDITOR.style( styleDefinition );\n\n\t\t// Gets the list of fonts from the settings.\n\t\tvar names = entries.split( ';' ),\n\t\t\tvalues = [];\n\n\t\t// Create style objects for all fonts.\n\t\tvar styles = {};\n\t\tfor ( var i = 0; i < names.length; i++ ) {\n\t\t\tvar parts = names[ i ];\n\n\t\t\tif ( parts ) {\n\t\t\t\tparts = parts.split( '/' );\n\n\t\t\t\tvar vars = {},\n\t\t\t\t\tname = names[ i ] = parts[ 0 ];\n\n\t\t\t\tvars[ styleType ] = values[ i ] = parts[ 1 ] || name;\n\n\t\t\t\tstyles[ name ] = new CKEDITOR.style( styleDefinition, vars );\n\t\t\t\tstyles[ name ]._.definition.name = name;\n\t\t\t} else {\n\t\t\t\tnames.splice( i--, 1 );\n\t\t\t}\n\t\t}\n\n\t\teditor.ui.addRichCombo( comboName, {\n\t\t\tlabel: lang.label,\n\t\t\ttitle: lang.panelTitle,\n\t\t\ttoolbar: 'styles,' + order,\n\t\t\tallowedContent: style,\n\t\t\trequiredContent: style,\n\t\t\tcontentTransformations: [\n\t\t\t\t[\n\t\t\t\t\t{\n\t\t\t\t\t\telement: 'font',\n\t\t\t\t\t\tcheck: 'span',\n\t\t\t\t\t\tleft: function( element ) {\n\t\t\t\t\t\t\treturn !!element.attributes.size ||\n\t\t\t\t\t\t\t\t!!element.attributes.align ||\n\t\t\t\t\t\t\t\t!!element.attributes.face;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tright: function( element ) {\n\t\t\t\t\t\t\tvar sizes = [\n\t\t\t\t\t\t\t\t'', // Non-existent size \"0\"\n\t\t\t\t\t\t\t\t'x-small',\n\t\t\t\t\t\t\t\t'small',\n\t\t\t\t\t\t\t\t'medium',\n\t\t\t\t\t\t\t\t'large',\n\t\t\t\t\t\t\t\t'x-large',\n\t\t\t\t\t\t\t\t'xx-large',\n\t\t\t\t\t\t\t\t'48px' // Closest value to what size=\"7\" might mean.\n\t\t\t\t\t\t\t];\n\n\t\t\t\t\t\t\telement.name = 'span';\n\n\t\t\t\t\t\t\tif ( element.attributes.size ) {\n\t\t\t\t\t\t\t\telement.styles[ 'font-size' ] = sizes[ element.attributes.size ];\n\t\t\t\t\t\t\t\tdelete element.attributes.size;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( element.attributes.align ) {\n\t\t\t\t\t\t\t\telement.styles[ 'text-align' ] = element.attributes.align;\n\t\t\t\t\t\t\t\tdelete element.attributes.align;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( element.attributes.face ) {\n\t\t\t\t\t\t\t\telement.styles[ 'font-family' ] = element.attributes.face;\n\t\t\t\t\t\t\t\tdelete element.attributes.face;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t],\n\t\t\tpanel: {\n\t\t\t\tcss: [ CKEDITOR.skin.getPath( 'editor' ) ].concat( config.contentsCss ),\n\t\t\t\tmultiSelect: false,\n\t\t\t\tattributes: { 'aria-label': lang.panelTitle }\n\t\t\t},\n\n\t\t\tinit: function() {\n\t\t\t\tthis.startGroup( lang.panelTitle );\n\n\t\t\t\tfor ( var i = 0; i < names.length; i++ ) {\n\t\t\t\t\tvar name = names[ i ];\n\n\t\t\t\t\t// Add the tag entry to the panel list.\n\t\t\t\t\tthis.add( name, styles[ name ].buildPreview(), name );\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tonClick: function( value ) {\n\t\t\t\teditor.focus();\n\t\t\t\teditor.fire( 'saveSnapshot' );\n\n\t\t\t\tvar previousValue = this.getValue(),\n\t\t\t\t\tstyle = styles[ value ];\n\n\t\t\t\t// When applying one style over another, first remove the previous one (http://dev.ckeditor.com/ticket/12403).\n\t\t\t\t// NOTE: This is only a temporary fix. It will be moved to the styles system (http://dev.ckeditor.com/ticket/12687).\n\t\t\t\tif ( previousValue && value != previousValue ) {\n\t\t\t\t\tvar previousStyle = styles[ previousValue ],\n\t\t\t\t\t\trange = editor.getSelection().getRanges()[ 0 ];\n\n\t\t\t\t\t// If the range is collapsed we can't simply use the editor.removeStyle method\n\t\t\t\t\t// because it will remove the entire element and we want to split it instead.\n\t\t\t\t\tif ( range.collapsed ) {\n\t\t\t\t\t\tvar path = editor.elementPath(),\n\t\t\t\t\t\t\t// Find the style element.\n\t\t\t\t\t\t\tmatching = path.contains( function( el ) {\n\t\t\t\t\t\t\t\treturn previousStyle.checkElementRemovable( el );\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\tif ( matching ) {\n\t\t\t\t\t\t\tvar startBoundary = range.checkBoundaryOfElement( matching, CKEDITOR.START ),\n\t\t\t\t\t\t\t\tendBoundary = range.checkBoundaryOfElement( matching, CKEDITOR.END ),\n\t\t\t\t\t\t\t\tnode, bm;\n\n\t\t\t\t\t\t\t// If we are at both boundaries it means that the element is empty.\n\t\t\t\t\t\t\t// Remove it but in a way that we won't lose other empty inline elements inside it.\n\t\t\t\t\t\t\t// Example: <p>x<span style=\"font-size:48px\"><em>[]</em></span>x</p>\n\t\t\t\t\t\t\t// Result: <p>x<em>[]</em>x</p>\n\t\t\t\t\t\t\tif ( startBoundary && endBoundary ) {\n\t\t\t\t\t\t\t\tbm = range.createBookmark();\n\t\t\t\t\t\t\t\t// Replace the element with its children (TODO element.replaceWithChildren).\n\t\t\t\t\t\t\t\twhile ( ( node = matching.getFirst() ) ) {\n\t\t\t\t\t\t\t\t\tnode.insertBefore( matching );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tmatching.remove();\n\t\t\t\t\t\t\t\trange.moveToBookmark( bm );\n\n\t\t\t\t\t\t\t// If we are at the boundary of the style element, move out and copy nested styles/elements.\n\t\t\t\t\t\t\t} else if ( startBoundary || endBoundary ) {\n\t\t\t\t\t\t\t\trange.moveToPosition( matching, startBoundary ? CKEDITOR.POSITION_BEFORE_START : CKEDITOR.POSITION_AFTER_END );\n\t\t\t\t\t\t\t\tcloneSubtreeIntoRange( range, path.elements.slice(), matching );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// Split the element and clone the elements that were in the path\n\t\t\t\t\t\t\t\t// (between the startContainer and the matching element)\n\t\t\t\t\t\t\t\t// into the new place.\n\t\t\t\t\t\t\t\trange.splitElement( matching );\n\t\t\t\t\t\t\t\trange.moveToPosition( matching, CKEDITOR.POSITION_AFTER_END );\n\t\t\t\t\t\t\t\tcloneSubtreeIntoRange( range, path.elements.slice(), matching );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\teditor.getSelection().selectRanges( [ range ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\teditor.removeStyle( previousStyle );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\teditor[ previousValue == value ? 'removeStyle' : 'applyStyle' ]( style );\n\n\t\t\t\teditor.fire( 'saveSnapshot' );\n\t\t\t},\n\n\t\t\tonRender: function() {\n\t\t\t\teditor.on( 'selectionChange', function( ev ) {\n\t\t\t\t\tvar currentValue = this.getValue();\n\n\t\t\t\t\tvar elementPath = ev.data.path,\n\t\t\t\t\t\telements = elementPath.elements;\n\n\t\t\t\t\t// For each element into the elements path.\n\t\t\t\t\tfor ( var i = 0, element; i < elements.length; i++ ) {\n\t\t\t\t\t\telement = elements[ i ];\n\n\t\t\t\t\t\t// Check if the element is removable by any of\n\t\t\t\t\t\t// the styles.\n\t\t\t\t\t\tfor ( var value in styles ) {\n\t\t\t\t\t\t\tif ( styles[ value ].checkElementMatch( element, true, editor ) ) {\n\t\t\t\t\t\t\t\tif ( value != currentValue )\n\t\t\t\t\t\t\t\t\tthis.setValue( value );\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// If no styles match, just empty it.\n\t\t\t\t\tthis.setValue( '', defaultLabel );\n\t\t\t\t}, this );\n\t\t\t},\n\n\t\t\trefresh: function() {\n\t\t\t\tif ( !editor.activeFilter.check( style ) )\n\t\t\t\t\tthis.setState( CKEDITOR.TRISTATE_DISABLED );\n\t\t\t}\n\t\t} );\n\t}\n\n\t// Clones the subtree between subtreeStart (exclusive) and the\n\t// leaf (inclusive) and inserts it into the range.\n\t//\n\t// @param range\n\t// @param {CKEDITOR.dom.element[]} elements Elements path in the standard order: leaf -> root.\n\t// @param {CKEDITOR.dom.element/null} substreeStart The start of the subtree.\n\t// If null, then the leaf belongs to the subtree.\n\tfunction cloneSubtreeIntoRange( range, elements, subtreeStart ) {\n\t\tvar current = elements.pop();\n\t\tif ( !current ) {\n\t\t\treturn;\n\t\t}\n\t\t// Rewind the elements array up to the subtreeStart and then start the real cloning.\n\t\tif ( subtreeStart ) {\n\t\t\treturn cloneSubtreeIntoRange( range, elements, current.equals( subtreeStart ) ? null : subtreeStart );\n\t\t}\n\n\t\tvar clone = current.clone();\n\t\trange.insertNode( clone );\n\t\trange.moveToPosition( clone, CKEDITOR.POSITION_AFTER_START );\n\n\t\tcloneSubtreeIntoRange( range, elements );\n\t}\n\n\tCKEDITOR.plugins.add( 'font', {\n\t\trequires: 'richcombo',\n\t\t// jscs:disable maximumLineLength\n\t\tlang: 'af,ar,az,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,es-mx,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,oc,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn', // %REMOVE_LINE_CORE%\n\t\t// jscs:enable maximumLineLength\n\t\tinit: function( editor ) {\n\t\t\tvar config = editor.config;\n\n\t\t\taddCombo( editor, 'Font', 'family', editor.lang.font, config.font_names, config.font_defaultLabel, config.font_style, 30 );\n\t\t\taddCombo( editor, 'FontSize', 'size', editor.lang.font.fontSize, config.fontSize_sizes, config.fontSize_defaultLabel, config.fontSize_style, 40 );\n\t\t}\n\t} );\n} )();\n\n/**\n * The list of fonts names to be displayed in the Font combo in the toolbar.\n * Entries are separated by semi-colons (`';'`), while it's possible to have more\n * than one font for each entry, in the HTML way (separated by comma).\n *\n * A display name may be optionally defined by prefixing the entries with the\n * name and the slash character. For example, `'Arial/Arial, Helvetica, sans-serif'`\n * will be displayed as `'Arial'` in the list, but will be outputted as\n * `'Arial, Helvetica, sans-serif'`.\n *\n *\t\tconfig.font_names =\n *\t\t\t'Arial/Arial, Helvetica, sans-serif;' +\n *\t\t\t'Times New Roman/Times New Roman, Times, serif;' +\n *\t\t\t'Verdana';\n *\n *\t\tconfig.font_names = 'Arial;Times New Roman;Verdana';\n *\n * @cfg {String} [font_names=see source]\n * @member CKEDITOR.config\n */\nCKEDITOR.config.font_names = 'Arial/Arial, Helvetica, sans-serif;' +\n\t'Comic Sans MS/Comic Sans MS, cursive;' +\n\t'Courier New/Courier New, Courier, monospace;' +\n\t'Georgia/Georgia, serif;' +\n\t'Lucida Sans Unicode/Lucida Sans Unicode, Lucida Grande, sans-serif;' +\n\t'Tahoma/Tahoma, Geneva, sans-serif;' +\n\t'Times New Roman/Times New Roman, Times, serif;' +\n\t'Trebuchet MS/Trebuchet MS, Helvetica, sans-serif;' +\n\t'Verdana/Verdana, Geneva, sans-serif';\n\n/**\n * The text to be displayed in the Font combo is none of the available values\n * matches the current cursor position or text selection.\n *\n *\t\t// If the default site font is Arial, we may making it more explicit to the end user.\n *\t\tconfig.font_defaultLabel = 'Arial';\n *\n * @cfg {String} [font_defaultLabel='']\n * @member CKEDITOR.config\n */\nCKEDITOR.config.font_defaultLabel = '';\n\n/**\n * The style definition to be used to apply the font in the text.\n *\n *\t\t// This is actually the default value for it.\n *\t\tconfig.font_style = {\n *\t\t\telement:\t\t'span',\n *\t\t\tstyles:\t\t\t{ 'font-family': '#(family)' },\n *\t\t\toverrides:\t\t[ { element: 'font', attributes: { 'face': null } } ]\n *     };\n *\n * @cfg {Object} [font_style=see example]\n * @member CKEDITOR.config\n */\nCKEDITOR.config.font_style = {\n\telement: 'span',\n\tstyles: { 'font-family': '#(family)' },\n\toverrides: [ {\n\t\telement: 'font', attributes: { 'face': null }\n\t} ]\n};\n\n/**\n * The list of fonts size to be displayed in the Font Size combo in the\n * toolbar. Entries are separated by semi-colons (`';'`).\n *\n * Any kind of \"CSS like\" size can be used, like `'12px'`, `'2.3em'`, `'130%'`,\n * `'larger'` or `'x-small'`.\n *\n * A display name may be optionally defined by prefixing the entries with the\n * name and the slash character. For example, `'Bigger Font/14px'` will be\n * displayed as `'Bigger Font'` in the list, but will be outputted as `'14px'`.\n *\n *\t\tconfig.fontSize_sizes = '16/16px;24/24px;48/48px;';\n *\n *\t\tconfig.fontSize_sizes = '12px;2.3em;130%;larger;x-small';\n *\n *\t\tconfig.fontSize_sizes = '12 Pixels/12px;Big/2.3em;30 Percent More/130%;Bigger/larger;Very Small/x-small';\n *\n * @cfg {String} [fontSize_sizes=see source]\n * @member CKEDITOR.config\n */\nCKEDITOR.config.fontSize_sizes = '8/8px;9/9px;10/10px;11/11px;12/12px;14/14px;16/16px;18/18px;20/20px;22/22px;24/24px;26/26px;28/28px;36/36px;48/48px;72/72px';\n\n/**\n * The text to be displayed in the Font Size combo is none of the available\n * values matches the current cursor position or text selection.\n *\n *\t\t// If the default site font size is 12px, we may making it more explicit to the end user.\n *\t\tconfig.fontSize_defaultLabel = '12px';\n *\n * @cfg {String} [fontSize_defaultLabel='']\n * @member CKEDITOR.config\n */\nCKEDITOR.config.fontSize_defaultLabel = '';\n\n/**\n * The style definition to be used to apply the font size in the text.\n *\n *\t\t// This is actually the default value for it.\n *\t\tconfig.fontSize_style = {\n *\t\t\telement:\t\t'span',\n *\t\t\tstyles:\t\t\t{ 'font-size': '#(size)' },\n *\t\t\toverrides:\t\t[ { element: 'font', attributes: { 'size': null } } ]\n *\t\t};\n *\n * @cfg {Object} [fontSize_style=see example]\n * @member CKEDITOR.config\n */\nCKEDITOR.config.fontSize_style = {\n\telement: 'span',\n\tstyles: { 'font-size': '#(size)' },\n\toverrides: [ {\n\t\telement: 'font', attributes: { 'size': null }\n\t} ]\n};\n"]}