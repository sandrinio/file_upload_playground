{"version":3,"sources":["../../routes/landing.js"],"names":["express","require","router","Router","multer","path","storage","diskStorage","destination","req","file","cb","filename","Date","now","originalname","upload","get","res","render","photo","post","single","active_page","data","status","json","module","exports"],"mappings":";;AAAA,IAAMA,UAAUC,QAAQ,SAAR,CAAhB;AACA,IAAMC,SAASF,QAAQG,MAAR,EAAf;AACA,IAAMC,SAAUH,QAAQ,QAAR,CAAhB;AACA,IAAMI,OAAOJ,QAAQ,MAAR,CAAb;;AAEA,IAAMK,UAAUF,OAAOG,WAAP,CAAmB;AAChCC,gBAAa,qBAAUC,GAAV,EAAeC,IAAf,EAAqBC,EAArB,EAAyB;AACnCA,SAAG,IAAH,EAAS,+BAAT;AACF,IAH+B;AAIhCC,aAAU,kBAAUH,GAAV,EAAeC,IAAf,EAAqBC,EAArB,EAAyB;AAChCA,SAAG,IAAH,EAASE,KAAKC,GAAL,KAAa,GAAb,GAAmBJ,KAAKK,YAAjC;AACF;AAN+B,CAAnB,CAAhB;AAQA,IAAMC,SAASZ,OAAO,EAAEE,SAASA,OAAX,EAAP,CAAf;;AAGAJ,OAAOe,GAAP,CAAW,GAAX,EAAgB,UAACR,GAAD,EAAMS,GAAN,EAAc;AAC3BA,OAAIC,MAAJ,CAAW,SAAX,EAAsB,EAAEC,OAAO,EAAT,EAAtB;AACF,CAFD;;AAKAlB,OAAOmB,IAAP,CAAY,eAAZ,EAA6BL,OAAOM,MAAP,CAAc,WAAd,CAA7B,EAAyD,UAACb,GAAD,EAAMS,GAAN,EAAc;AACpEA,OAAIC,MAAJ,CAAW,SAAX,EAAsB,EAAEC,OAAOX,IAAIC,IAAb,EAAmBa,aAAa,aAAhC,EAAtB;AACF,CAFD;;AAIArB,OAAOmB,IAAP,CAAY,cAAZ,EAA4BL,OAAOM,MAAP,CAAc,UAAd,CAA5B,EAAuD,UAACb,GAAD,EAAMS,GAAN,EAAc;AAClE,OAAIM,OAAOf,IAAIC,IAAf;AACAQ,OAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBF,IAArB;AACF,CAHD;;AAQAG,OAAOC,OAAP,GAAiB1B,MAAjB","file":"landing.js","sourcesContent":["const express = require('express');\nconst router = express.Router();\nconst multer  = require('multer');\nconst path = require('path');\n\nconst storage = multer.diskStorage({\n   destination: function (req, file, cb) {\n      cb(null, 'public/uploads/basic_uploads/')\n   },\n   filename: function (req, file, cb) {\n      cb(null, Date.now() + '-' + file.originalname)\n   }\n});\nconst upload = multer({ storage: storage });\n\n\nrouter.get('/', (req, res) => {\n   res.render('landing', { photo: \"\" })\n});\n\n\nrouter.post('/basic_upload', upload.single('basicFile'), (req, res) => {\n   res.render('landing', { photo: req.file, active_page: 'file_upload' })\n});\n\nrouter.post('/ajax_upload', upload.single('ajaxFile'), (req, res) => {\n   let data = req.file;\n   res.status(200).json(data)\n});\n\n\n\n\nmodule.exports = router;\n\n\n"]}